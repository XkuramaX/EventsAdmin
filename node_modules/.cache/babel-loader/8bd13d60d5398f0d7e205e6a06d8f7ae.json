{"ast":null,"code":"var _jsxFileName = \"/Users/akashaki/personalProjects/AdminPanel/src/components/events/Events.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport config from '../../config.json';\nimport TableItem from './EventsTableItem';\nimport Create from './Create';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Events() {\n  _s();\n\n  const [events, setEvents] = useState([]);\n  const [options, setOptions] = useState(0);\n  const [details, setDetails] = useState({\n    name: null,\n    type: null,\n    price: 0,\n    description: null\n  });\n  const [members, setMembers] = useState([]);\n  let key = JSON.parse(localStorage.getItem(\"apiKey\"));\n  let url = config.baseUrl + \"/api/events\"; // let membersUrl = config.baseUrl+\"/api/members\"\n\n  let fetchData = async url => {\n    let response = await fetch(url, {\n      method: 'GET',\n      // *GET, POST, PUT, DELETE, etc.\n      mode: 'cors',\n      // no-cors, *cors, same-origin\n      cache: 'no-cache',\n      // *default, no-cache, reload, force-cache, only-if-cached\n      // credentials: 'include', // include, *same-origin, omit\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authorization\": key //   'Content-Type': 'application/x-www-form-urlencoded',\n\n      }\n    });\n    let resp = await response.json();\n    return resp;\n  };\n\n  let postData = async url => {\n    let response = await fetch(url, {\n      method: 'POST',\n      // *GET, POST, PUT, DELETE, etc.\n      mode: 'cors',\n      // no-cors, *cors, same-origin\n      cache: 'no-cache',\n      // *default, no-cache, reload, force-cache, only-if-cached\n      // credentials: 'include', // include, *same-origin, omit\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authorization\": key //   'Content-Type': 'application/x-www-form-urlencoded',\n\n      },\n      body: JSON.stringify(details)\n    });\n    let resp = await response.json();\n    return resp;\n  };\n\n  let deleteData = async url => {\n    let response = await fetch(url, {\n      method: 'DELETE',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authorization\": key\n      }\n    });\n  };\n\n  useEffect(() => {\n    fetchData(url + \"/all\").then(async response => {\n      console.log(\"response\", response);\n\n      if (response.success) {\n        console.log(response.response);\n        setEvents(response.response);\n      } else {\n        console.log(\"unable to fetch data!\");\n      }\n    });\n  });\n\n  let submitHandler = e => {\n    e.preventDefault();\n    console.log(\"This is here\", events);\n    postData(url + \"/create\").then(async response => {\n      if (response.success) {\n        setCategories([...events, events]);\n        e.target.name.value = null;\n        e.target.type.value = \"\";\n        e.target.price.value = 0;\n        e.target.description.value = null;\n        setDetails({\n          name: null,\n          type: \"\",\n          price: 0,\n          description: null\n        });\n      } else {\n        console.log(response);\n        console.log(\"Cannot create\");\n      }\n    });\n    console.log(\"I am here\");\n    console.log(details);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"col-3 btn btn-link\",\n        onClick: () => setOptions(0),\n        children: \"All Events\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"col-3 btn btn-link\",\n        onClick: () => setOptions(1),\n        children: \"Create Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"col-3 btn btn-link\",\n        onClick: () => setOptions(2),\n        children: \"Delete Events\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }, this), options == 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: events.forEach(event => {\n        /*#__PURE__*/\n        _jsxDEV(EventsTableItem, {\n          item: event\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this);\n      })\n    }, void 0, false) : '', options == 1 ? /*#__PURE__*/_jsxDEV(Create, {\n      submitHandler: submitHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 30\n    }, this) : '']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Events, \"uNcC+VPn45tL/xEJ2Ji+ci4BwS0=\");\n\n_c = Events;\nexport default Events;\n\nvar _c;\n\n$RefreshReg$(_c, \"Events\");","map":{"version":3,"sources":["/Users/akashaki/personalProjects/AdminPanel/src/components/events/Events.js"],"names":["React","useState","useEffect","config","TableItem","Create","Events","events","setEvents","options","setOptions","details","setDetails","name","type","price","description","members","setMembers","key","JSON","parse","localStorage","getItem","url","baseUrl","fetchData","response","fetch","method","mode","cache","headers","resp","json","postData","body","stringify","deleteData","then","console","log","success","submitHandler","e","preventDefault","setCategories","target","value","forEach","event"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;;;AAGA,SAASC,MAAT,GAAkB;AAAA;;AAEd,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,CAAD,CAAtC;AACA,QAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC;AACnCY,IAAAA,IAAI,EAAE,IAD6B;AAEnCC,IAAAA,IAAI,EAAE,IAF6B;AAGnCC,IAAAA,KAAK,EAAE,CAH4B;AAInCC,IAAAA,WAAW,EAAE;AAJsB,GAAD,CAAtC;AAOA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBjB,QAAQ,CAAC,EAAD,CAAtC;AAEA,MAAIkB,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAX,CAAV;AAEA,MAAIC,GAAG,GAAGrB,MAAM,CAACsB,OAAP,GAAe,aAAzB,CAfc,CAiBd;;AAEA,MAAIC,SAAS,GAAG,MAAMF,GAAN,IAAa;AACzB,QAAIG,QAAQ,GAAG,MAAMC,KAAK,CAACJ,GAAD,EAAM;AAC5BK,MAAAA,MAAM,EAAE,KADoB;AACb;AACfC,MAAAA,IAAI,EAAE,MAFsB;AAEd;AACdC,MAAAA,KAAK,EAAE,UAHqB;AAGT;AACnB;AACAC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,yBAAiBb,GAFV,CAGT;;AAHS;AALmB,KAAN,CAA1B;AAWA,QAAIc,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAT,EAAjB;AACA,WAAOD,IAAP;AACH,GAdD;;AAgBA,MAAIE,QAAQ,GAAG,MAAMX,GAAN,IAAa;AACxB,QAAIG,QAAQ,GAAG,MAAMC,KAAK,CAACJ,GAAD,EAAM;AAC5BK,MAAAA,MAAM,EAAE,MADoB;AACZ;AAChBC,MAAAA,IAAI,EAAE,MAFsB;AAEd;AACdC,MAAAA,KAAK,EAAE,UAHqB;AAGT;AACnB;AACAC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,yBAAiBb,GAFV,CAGT;;AAHS,OALmB;AAU5BiB,MAAAA,IAAI,EAAEhB,IAAI,CAACiB,SAAL,CAAe1B,OAAf;AAVsB,KAAN,CAA1B;AAYA,QAAIsB,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAT,EAAjB;AACA,WAAOD,IAAP;AACH,GAfD;;AAiBA,MAAIK,UAAU,GAAG,MAAMd,GAAN,IAAc;AAC3B,QAAIG,QAAQ,GAAG,MAAMC,KAAK,CAACJ,GAAD,EAAM;AAC5BK,MAAAA,MAAM,EAAE,QADoB;AAE5BC,MAAAA,IAAI,EAAE,MAFsB;AAG5BE,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAiBb;AAFZ;AAHmB,KAAN,CAA1B;AAQH,GATD;;AAWAjB,EAAAA,SAAS,CAAC,MAAI;AACVwB,IAAAA,SAAS,CAACF,GAAG,GAAC,MAAL,CAAT,CAAsBe,IAAtB,CAA2B,MAAMZ,QAAN,IAAiB;AACxCa,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBd,QAAvB;;AACA,UAAIA,QAAQ,CAACe,OAAb,EAAqB;AACjBF,QAAAA,OAAO,CAACC,GAAR,CAAYd,QAAQ,CAACA,QAArB;AACAnB,QAAAA,SAAS,CAACmB,QAAQ,CAACA,QAAV,CAAT;AACH,OAHD,MAGO;AACHa,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACH;AAEJ,KATD;AAUH,GAXQ,CAAT;;AAaA,MAAIE,aAAa,GAAIC,CAAD,IAAO;AACvBA,IAAAA,CAAC,CAACC,cAAF;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2BlC,MAA3B;AACA4B,IAAAA,QAAQ,CAACX,GAAG,GAAC,SAAL,CAAR,CAAwBe,IAAxB,CAA6B,MAAMZ,QAAN,IAAkB;AAC3C,UAAGA,QAAQ,CAACe,OAAZ,EAAqB;AACjBI,QAAAA,aAAa,CAAC,CAAC,GAAGvC,MAAJ,EAAWA,MAAX,CAAD,CAAb;AACAqC,QAAAA,CAAC,CAACG,MAAF,CAASlC,IAAT,CAAcmC,KAAd,GAAsB,IAAtB;AACAJ,QAAAA,CAAC,CAACG,MAAF,CAASjC,IAAT,CAAckC,KAAd,GAAsB,EAAtB;AACAJ,QAAAA,CAAC,CAACG,MAAF,CAAShC,KAAT,CAAeiC,KAAf,GAAuB,CAAvB;AACAJ,QAAAA,CAAC,CAACG,MAAF,CAAS/B,WAAT,CAAqBgC,KAArB,GAA6B,IAA7B;AACApC,QAAAA,UAAU,CAAC;AACPC,UAAAA,IAAI,EAAE,IADC;AAEPC,UAAAA,IAAI,EAAE,EAFC;AAGPC,UAAAA,KAAK,EAAE,CAHA;AAIPC,UAAAA,WAAW,EAAE;AAJN,SAAD,CAAV;AAMH,OAZD,MAYO;AACHwB,QAAAA,OAAO,CAACC,GAAR,CAAYd,QAAZ;AACAa,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACH;AAEJ,KAlBD;AAmBAD,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY9B,OAAZ;AACH,GAxBD;;AA0BA,sBACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA,4BACQ;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA,8BACI;AAAQ,QAAA,SAAS,EAAC,oBAAlB;AAAuC,QAAA,OAAO,EAAE,MAAID,UAAU,CAAC,CAAD,CAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAQ,QAAA,SAAS,EAAC,oBAAlB;AAAuC,QAAA,OAAO,EAAE,MAAIA,UAAU,CAAC,CAAD,CAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAQ,QAAA,SAAS,EAAC,oBAAlB;AAAuC,QAAA,OAAO,EAAE,MAAIA,UAAU,CAAC,CAAD,CAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADR,EAMSD,OAAO,IAAE,CAAT,gBAAY;AAAA,gBAAGF,MAAM,CAAC0C,OAAP,CAAeC,KAAK,IAAI;AACpC;AAAA,gBAAC,eAAD;AAAiB,UAAA,IAAI,EAAEA;AAAvB;AAAA;AAAA;AAAA;AAAA;AACH,OAFe;AAAH,qBAAZ,GAEM,EARf,EASSzC,OAAO,IAAE,CAAT,gBAAY,QAAC,MAAD;AAAQ,MAAA,aAAa,EAAEkC;AAAvB;AAAA;AAAA;AAAA;AAAA,YAAZ,GAA4D,EATrE;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAeH;;GArHQrC,M;;KAAAA,M;AAuHT,eAAeA,MAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport config from '../../config.json'\nimport TableItem from './EventsTableItem'\nimport Create from './Create'\n\n\nfunction Events() {\n\n    const [events, setEvents] = useState([])\n    const [options, setOptions] = useState(0)\n    const [details, setDetails] = useState({\n        name: null,\n        type: null,\n        price: 0,\n        description: null\n    })\n\n    const [members, setMembers] = useState([])\n\n    let key = JSON.parse(localStorage.getItem(\"apiKey\"))\n\n    let url = config.baseUrl+\"/api/events\"\n\n    // let membersUrl = config.baseUrl+\"/api/members\"\n\n    let fetchData = async(url) =>{\n        let response = await fetch(url, {\n            method: 'GET', // *GET, POST, PUT, DELETE, etc.\n            mode: 'cors', // no-cors, *cors, same-origin\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n            // credentials: 'include', // include, *same-origin, omit\n            headers: {\n              'Content-Type': 'application/json',\n              \"Authorization\": key\n            //   'Content-Type': 'application/x-www-form-urlencoded',\n            },\n          })\n        let resp = await response.json()\n        return resp\n    }\n\n    let postData = async(url) =>{\n        let response = await fetch(url, {\n            method: 'POST', // *GET, POST, PUT, DELETE, etc.\n            mode: 'cors', // no-cors, *cors, same-origin\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n            // credentials: 'include', // include, *same-origin, omit\n            headers: {\n              'Content-Type': 'application/json',\n              \"Authorization\": key\n            //   'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            body: JSON.stringify(details)\n          })\n        let resp = await response.json()\n        return resp\n    }\n\n    let deleteData = async(url) => {\n        let response = await fetch(url, {\n            method: 'DELETE',\n            mode: 'cors',\n            headers: {\n                'Content-Type': 'application/json',\n                \"Authorization\": key\n            }\n        })\n    }\n\n    useEffect(()=>{\n        fetchData(url+\"/all\").then(async(response)=>{\n            console.log(\"response\",response)\n            if (response.success){\n                console.log(response.response)\n                setEvents(response.response)\n            } else {\n                console.log(\"unable to fetch data!\")\n            }\n            \n        })\n    })\n\n    let submitHandler = (e) => {\n        e.preventDefault();\n        console.log(\"This is here\",events)\n        postData(url+\"/create\").then(async(response)=> {\n            if(response.success) {\n                setCategories([...events,events])\n                e.target.name.value = null\n                e.target.type.value = \"\"\n                e.target.price.value = 0\n                e.target.description.value = null\n                setDetails({\n                    name: null,\n                    type: \"\",\n                    price: 0,\n                    description: null\n                })\n            } else {\n                console.log(response)\n                console.log(\"Cannot create\")\n            }\n            \n        })\n        console.log(\"I am here\")\n        console.log(details)\n    }\n\n    return (\n        <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <button className=\"col-3 btn btn-link\" onClick={()=>setOptions(0)}>All Events</button>\n                    <button className=\"col-3 btn btn-link\" onClick={()=>setOptions(1)}>Create Event</button>\n                    <button className=\"col-3 btn btn-link\" onClick={()=>setOptions(2)}>Delete Events</button>\n                </div>\n                {options==0? <>{events.forEach(event => {\n                    <EventsTableItem item={event}></EventsTableItem>\n                })}</>:''}\n                {options==1? <Create submitHandler={submitHandler}></Create>:''}\n\n\n                    \n        </div>)\n}\n\nexport default Events\n"]},"metadata":{},"sourceType":"module"}