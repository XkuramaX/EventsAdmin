{"ast":null,"code":"var _jsxFileName = \"/Users/akashaki/personalProjects/AdminPanel/src/components/events/Events.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport config from '../../config.json';\nimport TableItem from './EventsTableItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Events() {\n  _s();\n\n  const [events, setEvents] = useState([]);\n  const [options, setOptions] = useState(0);\n  const [details, setDetails] = useState({\n    name: null,\n    type: null,\n    price: 0,\n    description: null\n  });\n  const [members, setMembers] = useState([]);\n  let key = JSON.parse(localStorage.getItem(\"apiKey\"));\n  let url = config.baseUrl + \"/api/events\"; // let membersUrl = config.baseUrl+\"/api/members\"\n\n  let fetchData = async url => {\n    let response = await fetch(url, {\n      method: 'GET',\n      // *GET, POST, PUT, DELETE, etc.\n      mode: 'cors',\n      // no-cors, *cors, same-origin\n      cache: 'no-cache',\n      // *default, no-cache, reload, force-cache, only-if-cached\n      // credentials: 'include', // include, *same-origin, omit\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authorization\": key //   'Content-Type': 'application/x-www-form-urlencoded',\n\n      }\n    });\n    let resp = await response.json();\n    return resp;\n  };\n\n  let postData = async url => {\n    let response = await fetch(url, {\n      method: 'POST',\n      // *GET, POST, PUT, DELETE, etc.\n      mode: 'cors',\n      // no-cors, *cors, same-origin\n      cache: 'no-cache',\n      // *default, no-cache, reload, force-cache, only-if-cached\n      // credentials: 'include', // include, *same-origin, omit\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authorization\": key //   'Content-Type': 'application/x-www-form-urlencoded',\n\n      },\n      body: JSON.stringify(details)\n    });\n    let resp = await response.json();\n    return resp;\n  };\n\n  let deleteData = async url => {\n    let response = await fetch(url, {\n      method: 'DELETE',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authorization\": key\n      }\n    });\n  };\n\n  useEffect(() => {\n    fetchData(url + \"/all\").then(async response => {\n      console.log(\"response\", response);\n\n      if (response.success) {\n        console.log(response.response);\n        setEvents(response.response);\n      } else {\n        console.log(\"unable to fetch data!\");\n      }\n    });\n  });\n\n  async function deleteItem(item) {\n    deleteData(url + \"/\" + item._id).then(() => {\n      setCategories(categories.filter(category => category._id !== item._id));\n      console.log(\"Delete is being called!\", item._id);\n    });\n  }\n\n  let submitHandler = e => {\n    e.preventDefault();\n    console.log(\"This is here\", events);\n    postData(url + \"/create\").then(async response => {\n      if (response.success) {\n        setCategories([...events, events]);\n        e.target.name.value = null;\n        e.target.type.value = \"\";\n        e.target.price.value = 0;\n        e.target.description.value = null;\n        setDetails({\n          name: null,\n          type: \"\",\n          price: 0,\n          description: null\n        });\n      } else {\n        console.log(response);\n        console.log(\"Cannot create\");\n      }\n    });\n    console.log(\"I am here\");\n    console.log(details);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"col-3 btn btn-link\",\n        onClick: () => setOptions,\n        children: \"All Events\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"col-3 btn btn-link\",\n        children: \"Create Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"col-3 btn btn-link\",\n        children: \"Delete Events\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"user\",\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          className: \"form-control form-control-user\",\n          id: \"exampleInputEmail\",\n          \"aria-describedby\": \"emailHelp\",\n          onChange: e => {\n            setDetails({ ...details,\n              name: e.target.value\n            });\n          },\n          value: details.name,\n          placeholder: \"Enter Item Name...\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          type: \"text\",\n          name: \"type\",\n          className: \"form-control\",\n          onChange: e => {\n            setDetails({ ...details,\n              type: e.target.value\n            });\n          },\n          placeholder: \"Select...\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            default: true,\n            children: \"None\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 37\n          }, this), types.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: type._id,\n            children: type.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 41\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          name: \"description\",\n          className: \"form-control form-control-user\",\n          id: \"exampleInputEmail\",\n          \"aria-describedby\": \"emailHelp\",\n          onChange: e => {\n            setDetails({ ...details,\n              description: e.target.value\n            });\n          },\n          value: details.description,\n          placeholder: \"Enter Item Description...\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"price\",\n          className: \"form-control form-control-user\",\n          id: \"exampleInputEmail\",\n          \"aria-describedby\": \"emailHelp\",\n          onChange: e => {\n            setDetails({ ...details,\n              price: e.target.value\n            });\n          },\n          value: details.price,\n          placeholder: \"Enter Item Price...\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onSubmit: submitHandler,\n        className: \"btn btn-primary btn-user btn-block\",\n        children: \"Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Events, \"uNcC+VPn45tL/xEJ2Ji+ci4BwS0=\");\n\n_c = Events;\nexport default Events;\n\nvar _c;\n\n$RefreshReg$(_c, \"Events\");","map":{"version":3,"sources":["/Users/akashaki/personalProjects/AdminPanel/src/components/events/Events.js"],"names":["React","useState","useEffect","config","TableItem","Events","events","setEvents","options","setOptions","details","setDetails","name","type","price","description","members","setMembers","key","JSON","parse","localStorage","getItem","url","baseUrl","fetchData","response","fetch","method","mode","cache","headers","resp","json","postData","body","stringify","deleteData","then","console","log","success","deleteItem","item","_id","setCategories","categories","filter","category","submitHandler","e","preventDefault","target","value","types","map"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport config from '../../config.json'\nimport TableItem from './EventsTableItem'\n\n\nfunction Events() {\n\n    const [events, setEvents] = useState([])\n    const [options, setOptions] = useState(0)\n    const [details, setDetails] = useState({\n        name: null,\n        type: null,\n        price: 0,\n        description: null\n    })\n\n    const [members, setMembers] = useState([])\n\n    let key = JSON.parse(localStorage.getItem(\"apiKey\"))\n\n    let url = config.baseUrl+\"/api/events\"\n\n    // let membersUrl = config.baseUrl+\"/api/members\"\n\n    let fetchData = async(url) =>{\n        let response = await fetch(url, {\n            method: 'GET', // *GET, POST, PUT, DELETE, etc.\n            mode: 'cors', // no-cors, *cors, same-origin\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n            // credentials: 'include', // include, *same-origin, omit\n            headers: {\n              'Content-Type': 'application/json',\n              \"Authorization\": key\n            //   'Content-Type': 'application/x-www-form-urlencoded',\n            },\n          })\n        let resp = await response.json()\n        return resp\n    }\n\n    let postData = async(url) =>{\n        let response = await fetch(url, {\n            method: 'POST', // *GET, POST, PUT, DELETE, etc.\n            mode: 'cors', // no-cors, *cors, same-origin\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n            // credentials: 'include', // include, *same-origin, omit\n            headers: {\n              'Content-Type': 'application/json',\n              \"Authorization\": key\n            //   'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            body: JSON.stringify(details)\n          })\n        let resp = await response.json()\n        return resp\n    }\n\n    let deleteData = async(url) => {\n        let response = await fetch(url, {\n            method: 'DELETE',\n            mode: 'cors',\n            headers: {\n                'Content-Type': 'application/json',\n                \"Authorization\": key\n            }\n        })\n    }\n\n    useEffect(()=>{\n        fetchData(url+\"/all\").then(async(response)=>{\n            console.log(\"response\",response)\n            if (response.success){\n                console.log(response.response)\n                setEvents(response.response)\n            } else {\n                console.log(\"unable to fetch data!\")\n            }\n            \n        })\n    })\n\n    async function deleteItem(item) {\n        deleteData(url+\"/\"+item._id).then( ()=>{\n            setCategories(categories.filter((category)=> category._id !== item._id))\n            console.log(\"Delete is being called!\", item._id\n            )})\n    }\n\n    let submitHandler = (e) => {\n        e.preventDefault();\n        console.log(\"This is here\",events)\n        postData(url+\"/create\").then(async(response)=> {\n            if(response.success) {\n                setCategories([...events,events])\n                e.target.name.value = null\n                e.target.type.value = \"\"\n                e.target.price.value = 0\n                e.target.description.value = null\n                setDetails({\n                    name: null,\n                    type: \"\",\n                    price: 0,\n                    description: null\n                })\n            } else {\n                console.log(response)\n                console.log(\"Cannot create\")\n            }\n            \n        })\n        console.log(\"I am here\")\n        console.log(details)\n    }\n\n    return (\n        <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <button className=\"col-3 btn btn-link\" onClick={()=>setOptions}>All Events</button>\n                    <button className=\"col-3 btn btn-link\">Create Event</button>\n                    <button className=\"col-3 btn btn-link\">Delete Events</button>\n                </div>\n                    \n\n                    <form className=\"user\" onSubmit={submitHandler}>\n                        <div className=\"form-group\">\n                            <input type=\"text\" name=\"name\" className=\"form-control form-control-user\"\n                                id=\"exampleInputEmail\" aria-describedby=\"emailHelp\" onChange={e => {setDetails({...details, name: e.target.value})}}\n                                value={details.name}\n                                placeholder=\"Enter Item Name...\" required></input>\n                        </div>\n                        <div className=\"form-group\">\n                            <select type=\"text\" name=\"type\" className=\"form-control\" onChange={e => {setDetails({...details, type: e.target.value})}} placeholder=\"Select...\" >\n                                    <option value=\"\" default>None</option>\n                                    {types.map((type)=> (\n                                        <option value={type._id}>{type.name}</option>    \n                                    ))}\n                            </select>\n                        </div>\n                        <div className=\"form-group\">\n                            <textarea type=\"text\" name=\"description\" className=\"form-control form-control-user\" \n                                id=\"exampleInputEmail\" aria-describedby=\"emailHelp\" onChange={e => {setDetails({...details, description: e.target.value})}}\n                                value={details.description}\n                                placeholder=\"Enter Item Description...\" required></textarea>\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"number\" name=\"price\" className=\"form-control form-control-user\"\n                                id=\"exampleInputEmail\" aria-describedby=\"emailHelp\" onChange={e => {setDetails({...details, price: e.target.value})}}\n                                value={details.price}\n                                placeholder=\"Enter Item Price...\" required></input>\n                        </div>\n                        <button type=\"submit\" onSubmit={submitHandler} className=\"btn btn-primary btn-user btn-block\">\n                            Create\n                        </button>\n                    </form>\n        </div>)\n}\n\nexport default Events\n"]},"metadata":{},"sourceType":"module"}